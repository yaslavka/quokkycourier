import React, {useEffect, useState} from 'react';
import {
  View,
  Text,
  SafeAreaView,
  StyleSheet,
  TouchableOpacity,
  RefreshControl,
  ScrollView,
} from 'react-native';
import moment from 'moment';
import {api} from '../../api';
import Svg, {G, Line, Path, Rect} from 'react-native-svg';
import {useNavigation} from '@react-navigation/native';
import HomeHeader from './Header';
import {formatter} from '../../utils';
import {heightPercentageToDP as hp} from 'react-native-responsive-screen';
function CartScreen() {
  const navigation = useNavigation();
  const [zakaz, setZakaz] = useState({zakazy: null});
  const [active, setActive] = useState(true);
  const [history, setHistory] = useState(false);
  const [refresh, setRefresh] = useState(false);
  const [zakazhistory, setZakazhistory] = useState([]);
  const {zakazy} = zakaz;
  const onRefresh = async () => {
    try {
      setRefresh(true);
      api
        .getZakaz()
        .then(response => {
          setZakaz({...zakaz, zakazy: response.items});
        })
        .catch(reason => {
          setZakaz({...zakaz, zakazy: reason.messages});
        });
      api
        .getZakazHystory()
        .then(response => {
          setZakazhistory(response);
        })
        .catch(() => {});
    } finally {
      setRefresh(false);
    }
  };
  useEffect(() => {
    api
      .getZakazHystory()
      .then(response => {
        setZakazhistory(response);
      })
      .catch(() => {});
  });
  useEffect(() => {
    api
      .getZakaz()
      .then(response => {
        setZakaz({...zakaz, zakazy: response.items});
      })
      .catch(reason => {
        setZakaz({...zakaz, zakazy: reason.messages});
      });
  }, []);

  return (
    <SafeAreaView style={styles.container}>
      <HomeHeader />
      <ScrollView
        style={{height: hp(120)}}
        refreshControl={
          <RefreshControl refreshing={refresh} onRefresh={onRefresh} />
        }>
        <View
          style={{
            flexDirection: 'row',
            alignItems: 'center',
            justifyContent: 'space-evenly',
          }}>
          <View
            style={
              active
                ? {
                    backgroundColor: '#FFFFFF',
                    borderColor: '#80884D',
                    borderRadius: 10,
                    borderWidth: 1,
                    height: 40,
                    width: 127,
                    alignItems: 'center',
                    justifyContent: 'center',
                  }
                : {
                    height: 40,
                    width: 127,
                    alignItems: 'center',
                    justifyContent: 'center',
                  }
            }>
            <TouchableOpacity
              onPress={() => {
                setHistory(false);
                setActive(true);
              }}>
              <Text
                style={{
                  color: '#000000',
                  fontSize: 18,
                  fontWeight: '500',
                  textAlign: 'center',
                }}>
                Aktiv
              </Text>
            </TouchableOpacity>
          </View>
          <View
            style={
              history
                ? {
                    backgroundColor: '#FFFFFF',
                    borderColor: '#80884D',
                    borderRadius: 10,
                    borderWidth: 1,
                    height: 40,
                    width: 127,
                    alignItems: 'center',
                    justifyContent: 'center',
                  }
                : {
                    height: 40,
                    width: 127,
                    alignItems: 'center',
                    justifyContent: 'center',
                  }
            }>
            <TouchableOpacity
              onPress={() => {
                setHistory(true);
                setActive(false);
              }}>
              <Text
                style={{
                  color: '#000000',
                  fontSize: 18,
                  fontWeight: '500',
                  textAlign: 'center',
                }}>
                Archiv
              </Text>
            </TouchableOpacity>
          </View>
        </View>
        {zakazy === null ? (
          <View style={{height: hp(100)}}>
            <View
              style={{
                alignItems: 'center',
                justifyContent: 'center',
                top: 250,
              }}>
              <Text style={{color: '#80884D'}}>У вас нет заказов в работе</Text>
            </View>
          </View>
        ) : (
          <>
            <View>
              {active && (
                <View style={{alignItems: 'center', top: 20}}>
                  {zakazy?.status5 === false ? (
                    <TouchableOpacity
                      style={{
                        width: 333,
                        height: 232,
                        borderColor: '#80884D',
                        borderWidth: 1,
                        marginBottom: 20,
                        borderRadius: 10,
                      }}
                      onPress={() => {
                        navigation.navigate('Status', {id: zakazy?.id});
                      }}
                      id={zakazy?.id}
                      key={zakazy?.id}>
                      <View
                        style={{
                          flexDirection: 'row',
                          alignItems: 'center',
                          justifyContent: 'space-between',
                          paddingHorizontal: 10,
                        }}>
                        <Text
                          style={{
                            color: '#000000',
                            fontWeight: 'bold',
                            fontSize: 16,
                          }}>
                          {moment(zakazy?.datetime).format('DD MMMM YYYY')}
                        </Text>
                        <Svg
                          style={{left: 10}}
                          xmlns="http://www.w3.org/2000/svg"
                          width="96"
                          height="52"
                          viewBox="0 0 96 52"
                          fill="none">
                          <G filter="url(#filter0_d_0_1)">
                            <Rect
                              x="15"
                              y="11"
                              width="66"
                              height="22"
                              rx="5"
                              fill="white"
                            />
                            <Rect
                              x="15.5"
                              y="11.5"
                              width="65"
                              height="21"
                              rx="4.5"
                              stroke="#80884D"
                            />
                          </G>
                          <Path
                            d="M36.3824 25H37.5299L38.1695 23.0957H40.8648L41.4996 25H42.6519L40.108 17.9541H38.9264L36.3824 25ZM39.4732 19.1895H39.5562L40.5719 22.2168H38.4625L39.4732 19.1895ZM43.3963 25H44.4559V23.0713L44.91 22.6172L46.7361 25H48.0252L45.6668 21.9336L47.8787 19.6973H46.6385L44.534 21.9336H44.4559V17.6172H43.3963V25ZM50.5469 25.0342C50.752 25.0342 50.9473 25.0098 51.1182 24.9805V24.1357C50.9717 24.1504 50.8789 24.1553 50.7178 24.1553C50.1953 24.1553 49.9805 23.9209 49.9805 23.3496V20.5322H51.1182V19.6973H49.9805V18.3594H48.9014V19.6973H48.0713V20.5322H48.9014V23.6035C48.9014 24.624 49.3799 25.0342 50.5469 25.0342ZM52.4973 18.75C52.8586 18.75 53.1613 18.4521 53.1613 18.0908C53.1613 17.7246 52.8586 17.4268 52.4973 17.4268C52.1311 17.4268 51.8332 17.7246 51.8332 18.0908C51.8332 18.4521 52.1311 18.75 52.4973 18.75ZM51.965 25H53.0197V19.6973H51.965V25ZM55.6147 25H56.7426L58.6567 19.6973H57.5434L56.225 23.9258H56.142L54.8188 19.6973H53.6957L55.6147 25Z"
                            fill="#80884D"
                          />
                        </Svg>
                      </View>
                      <View
                        style={{
                          alignItems: 'center',
                          flexDirection: 'row',
                          justifyContent: 'space-between',
                          paddingHorizontal: 18,
                        }}>
                        <Svg
                          width="52"
                          height="12"
                          viewBox="0 0 52 12"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <Path
                            d="M0.410156 9H1.78711L2.55469 6.71484H5.78906L6.55078 9H7.93359L4.88086 0.544922H3.46289L0.410156 9ZM4.11914 2.02734H4.21875L5.4375 5.66016H2.90625L4.11914 2.02734ZM12.2307 9.10547C13.8361 9.10547 14.8674 7.82227 14.8674 5.82422V5.8125C14.8674 3.79688 13.8479 2.52539 12.2307 2.52539C11.3576 2.52539 10.6135 2.95898 10.2736 3.64453H10.1799V0.140625H8.90841V9H10.1799V7.99805H10.2736C10.6428 8.69531 11.34 9.10547 12.2307 9.10547ZM11.8733 8.02148C10.8127 8.02148 10.1565 7.18359 10.1565 5.82422V5.8125C10.1565 4.45312 10.8127 3.61523 11.8733 3.61523C12.9338 3.61523 13.5725 4.44727 13.5725 5.8125V5.82422C13.5725 7.18945 12.9338 8.02148 11.8733 8.02148ZM16.0356 9H17.307V5.26758C17.307 4.24219 17.8871 3.60352 18.8188 3.60352C19.7504 3.60352 20.1899 4.125 20.1899 5.17969V9H21.4555V4.88086C21.4555 3.36328 20.6703 2.51367 19.2465 2.51367C18.3207 2.51367 17.7113 2.92383 17.4008 3.60352H17.307V0.140625H16.0356V9ZM25.5182 9.12305C27.3815 9.12305 28.524 7.875 28.524 5.82422V5.8125C28.524 3.76172 27.3756 2.51367 25.5182 2.51367C23.6549 2.51367 22.5065 3.76758 22.5065 5.8125V5.82422C22.5065 7.875 23.649 9.12305 25.5182 9.12305ZM25.5182 8.0625C24.4225 8.0625 23.8073 7.23633 23.8073 5.82422V5.8125C23.8073 4.40039 24.4225 3.57422 25.5182 3.57422C26.608 3.57422 27.2291 4.40039 27.2291 5.8125V5.82422C27.2291 7.23047 26.608 8.0625 25.5182 8.0625ZM29.6922 9H30.9637V0.140625H29.6922V9ZM34.5694 9.12305C35.4952 9.12305 36.1397 8.72461 36.4444 8.03906H36.544V9H37.8096V2.63672H36.544V6.36914C36.544 7.39453 35.9991 8.0332 34.9795 8.0332C34.0479 8.0332 33.6612 7.51172 33.6612 6.45703V2.63672H32.3897V6.75586C32.3897 8.26172 33.1338 9.12305 34.5694 9.12305ZM39.2356 9H40.5071V5.26758C40.5071 4.24219 41.0872 3.60352 42.0188 3.60352C42.9504 3.60352 43.3899 4.125 43.3899 5.17969V9H44.6555V4.88086C44.6555 3.36328 43.8704 2.51367 42.4465 2.51367C41.5208 2.51367 40.9114 2.92383 40.6008 3.60352H40.5071V2.63672H39.2356V9ZM48.7124 11.2441C50.517 11.2441 51.6596 10.3184 51.6596 8.87109V2.63672H50.394V3.67969H50.3178C49.9487 2.96484 49.2573 2.52539 48.3667 2.52539C46.7143 2.52539 45.7006 3.80859 45.7006 5.625V5.63672C45.7006 7.42969 46.7085 8.68945 48.3432 8.68945C49.2163 8.68945 49.9194 8.30273 50.3061 7.61133H50.3999V8.86523C50.3999 9.73242 49.7788 10.2246 48.7299 10.2246C47.8686 10.2246 47.353 9.91406 47.2475 9.47461L47.2417 9.46289H45.9585L45.9467 9.47461C46.0991 10.5352 47.0952 11.2441 48.7124 11.2441ZM48.6948 7.64062C47.6108 7.64062 47.0014 6.81445 47.0014 5.63086V5.61914C47.0014 4.43555 47.6108 3.60352 48.6948 3.60352C49.767 3.60352 50.4233 4.43555 50.4233 5.61914V5.63086C50.4233 6.82031 49.7729 7.64062 48.6948 7.64062Z"
                            fill="#B3B3B3"
                          />
                        </Svg>
                        <Svg
                          width="15"
                          height="15"
                          viewBox="0 0 15 15"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <Path
                            d="M10.8 6.53123L13.125 4.20623M13.125 4.20623L10.8 1.88123M13.125 4.20623H1.875M4.2 8.46873L1.875 10.7937M1.875 10.7937L4.2 13.1187M1.875 10.7937H13.125"
                            stroke="#B3B3B3"
                            strokeLinecap="round"
                            strokeLinejoin="round"
                          />
                        </Svg>
                        <Svg
                          width="50"
                          height="13"
                          viewBox="0 0 50 13"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <Path
                            d="M0.0605469 10H5.33398V8.86914H1.37305V1.54492H0.0605469V10ZM7.10567 2.5C7.53927 2.5 7.90255 2.14258 7.90255 1.70898C7.90255 1.26953 7.53927 0.912109 7.10567 0.912109C6.66622 0.912109 6.3088 1.26953 6.3088 1.70898C6.3088 2.14258 6.66622 2.5 7.10567 2.5ZM6.467 10H7.73263V3.63672H6.467V10ZM11.8481 10.123C13.477 10.123 14.3559 9.18555 14.5668 8.34766L14.5785 8.29492L13.3539 8.30078L13.3305 8.34766C13.1781 8.67578 12.6918 9.08008 11.8774 9.08008C10.8285 9.08008 10.1606 8.37109 10.1371 7.15234H14.6488V6.70703C14.6488 4.79688 13.559 3.51367 11.7836 3.51367C10.0082 3.51367 8.85978 4.84375 8.85978 6.83008V6.83594C8.85978 8.85156 9.98478 10.123 11.8481 10.123ZM11.7895 4.55664C12.6508 4.55664 13.2895 5.10742 13.3891 6.24414H10.1547C10.266 5.14844 10.9223 4.55664 11.7895 4.55664ZM16.2037 10H17.4694V4.63867H18.8698V3.63672H17.4576V3.02734C17.4576 2.38281 17.733 2.04297 18.4362 2.04297C18.6354 2.04297 18.8053 2.05469 18.9225 2.07227V1.14062C18.7057 1.10547 18.4596 1.08203 18.1725 1.08203C16.8483 1.08203 16.2037 1.70312 16.2037 2.96875V3.63672H15.1549V4.63867H16.2037V10ZM22.3172 10.123C23.9461 10.123 24.825 9.18555 25.036 8.34766L25.0477 8.29492L23.8231 8.30078L23.7996 8.34766C23.6473 8.67578 23.161 9.08008 22.3465 9.08008C21.2977 9.08008 20.6297 8.37109 20.6063 7.15234H25.118V6.70703C25.118 4.79688 24.0282 3.51367 22.2528 3.51367C20.4774 3.51367 19.3289 4.84375 19.3289 6.83008V6.83594C19.3289 8.85156 20.4539 10.123 22.3172 10.123ZM22.2586 4.55664C23.12 4.55664 23.7586 5.10742 23.8582 6.24414H20.6239C20.7352 5.14844 21.3914 4.55664 22.2586 4.55664ZM26.2217 10H27.4932V6.19727C27.4932 5.27734 28.1553 4.67969 29.128 4.67969C29.3682 4.67969 29.585 4.70898 29.8135 4.75586V3.58398C29.6846 3.55469 29.462 3.52539 29.2569 3.52539C28.4073 3.52539 27.8155 3.92383 27.587 4.59766H27.4932V3.63672H26.2217V10ZM32.7395 10.123C33.6653 10.123 34.3098 9.72461 34.6145 9.03906H34.7141V10H35.9797V3.63672H34.7141V7.36914C34.7141 8.39453 34.1692 9.0332 33.1497 9.0332C32.218 9.0332 31.8313 8.51172 31.8313 7.45703V3.63672H30.5598V7.75586C30.5598 9.26172 31.304 10.123 32.7395 10.123ZM37.4057 10H38.6772V6.26758C38.6772 5.24219 39.2573 4.60352 40.1889 4.60352C41.1206 4.60352 41.56 5.125 41.56 6.17969V10H42.8256V5.88086C42.8256 4.36328 42.0405 3.51367 40.6167 3.51367C39.6909 3.51367 39.0815 3.92383 38.771 4.60352H38.6772V3.63672H37.4057V10ZM46.8825 12.2441C48.6872 12.2441 49.8298 11.3184 49.8298 9.87109V3.63672H48.5641V4.67969H48.488C48.1188 3.96484 47.4274 3.52539 46.5368 3.52539C44.8844 3.52539 43.8708 4.80859 43.8708 6.625V6.63672C43.8708 8.42969 44.8786 9.68945 46.5133 9.68945C47.3864 9.68945 48.0895 9.30273 48.4762 8.61133H48.57V9.86523C48.57 10.7324 47.9489 11.2246 46.9001 11.2246C46.0387 11.2246 45.5231 10.9141 45.4176 10.4746L45.4118 10.4629H44.1286L44.1169 10.4746C44.2692 11.5352 45.2653 12.2441 46.8825 12.2441ZM46.8649 8.64062C45.7809 8.64062 45.1715 7.81445 45.1715 6.63086V6.61914C45.1715 5.43555 45.7809 4.60352 46.8649 4.60352C47.9372 4.60352 48.5934 5.43555 48.5934 6.61914V6.63086C48.5934 7.82031 47.943 8.64062 46.8649 8.64062Z"
                            fill="#B3B3B3"
                          />
                        </Svg>
                      </View>
                      <View
                        style={{
                          flexDirection: 'row',
                          alignItems: 'center',
                          justifyContent: 'space-between',
                        }}>
                        <View style={{width: 124, height: 34, left: 17}}>
                          <Text
                            style={{
                              fontSize: 12,
                              fontWeight: 'bold',
                              textAlign: 'left',
                            }}>
                            {zakazy.streets}
                          </Text>
                        </View>
                        <View style={{width: 75, height: 34, right: 17}}>
                          <Text
                            style={{
                              fontSize: 12,
                              fontWeight: 'bold',
                              textAlign: 'right',
                            }}>
                            {zakazy.street}
                          </Text>
                        </View>
                      </View>
                      <View style={{alignItems: 'center', top: 40}}>
                        <Svg
                          width="295"
                          height="1"
                          viewBox="0 0 295 1"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <Line
                            y1="0.5"
                            x2="295"
                            y2="0.5"
                            stroke="#80884D"
                            strokeOpacity="0.6"
                          />
                        </Svg>
                      </View>
                      <View
                        style={{
                          top: 55,
                          alignItems: 'center',
                          flexDirection: 'row',
                          justifyContent: 'space-between',
                          paddingHorizontal: 15,
                        }}>
                        <Svg
                          width="49"
                          height="12"
                          viewBox="0 0 49 12"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg">
                          <Path
                            d="M3.91992 9.20508C5.88867 9.20508 7.14844 8.19727 7.14844 6.58008V6.57422C7.14844 5.32031 6.42188 4.60547 4.64648 4.22461L3.72656 4.01953C2.63086 3.78516 2.18555 3.375 2.18555 2.74805V2.74219C2.18555 1.94531 2.91797 1.48242 3.9082 1.48242C4.93359 1.47656 5.5957 1.98047 5.70703 2.67188L5.71875 2.74805H6.99023L6.98438 2.66602C6.89062 1.35352 5.71875 0.339844 3.92578 0.339844C2.13281 0.339844 0.867188 1.34766 0.861328 2.80664V2.8125C0.861328 4.06055 1.59961 4.85742 3.31641 5.2207L4.24219 5.41992C5.36133 5.66016 5.81836 6.08203 5.81836 6.73242V6.73828C5.81836 7.52344 5.05078 8.0625 3.97266 8.0625C2.8418 8.0625 2.02734 7.57031 1.95703 6.80273L1.95117 6.73828H0.662109L0.667969 6.81445C0.785156 8.23828 2.00977 9.20508 3.91992 9.20508ZM10.9943 9.12305C12.6233 9.12305 13.5022 8.18555 13.7131 7.34766L13.7248 7.29492L12.5002 7.30078L12.4768 7.34766C12.3244 7.67578 11.8381 8.08008 11.0236 8.08008C9.97481 8.08008 9.30684 7.37109 9.28341 6.15234H13.7951V5.70703C13.7951 3.79688 12.7053 2.51367 10.9299 2.51367C9.1545 2.51367 8.00606 3.84375 8.00606 5.83008V5.83594C8.00606 7.85156 9.13106 9.12305 10.9943 9.12305ZM10.9358 3.55664C11.7971 3.55664 12.4358 4.10742 12.5354 5.24414H9.30098C9.41231 4.14844 10.0686 3.55664 10.9358 3.55664ZM14.8988 9H16.1703V5.26758C16.1703 4.24219 16.7504 3.60352 17.682 3.60352C18.6137 3.60352 19.0531 4.125 19.0531 5.17969V9H20.3188V4.88086C20.3188 3.36328 19.5336 2.51367 18.1098 2.51367C17.184 2.51367 16.5746 2.92383 16.2641 3.60352H16.1703V2.63672H14.8988V9ZM24.0065 9.10547C24.8971 9.10547 25.5944 8.69531 25.9635 7.99805H26.0631V9H27.3287V0.140625H26.0631V3.64453H25.9635C25.6237 2.95898 24.8795 2.52539 24.0065 2.52539C22.3893 2.52539 21.3698 3.79688 21.3698 5.8125V5.82422C21.3698 7.82227 22.4069 9.10547 24.0065 9.10547ZM24.3698 8.02148C23.3033 8.02148 22.6647 7.18945 22.6647 5.82422V5.8125C22.6647 4.44727 23.3033 3.61523 24.3698 3.61523C25.4244 3.61523 26.0807 4.45312 26.0807 5.8125V5.82422C26.0807 7.18359 25.4303 8.02148 24.3698 8.02148ZM30.9344 9.12305C31.8602 9.12305 32.5047 8.72461 32.8094 8.03906H32.909V9H34.1746V2.63672H32.909V6.36914C32.909 7.39453 32.3641 8.0332 31.3446 8.0332C30.4129 8.0332 30.0262 7.51172 30.0262 6.45703V2.63672H28.7547V6.75586C28.7547 8.26172 29.4989 9.12305 30.9344 9.12305ZM35.6006 9H36.8721V5.26758C36.8721 4.24219 37.4522 3.60352 38.3838 3.60352C39.3155 3.60352 39.7549 4.125 39.7549 5.17969V9H41.0205V4.88086C41.0205 3.36328 40.2354 2.51367 38.8116 2.51367C37.8858 2.51367 37.2764 2.92383 36.9659 3.60352H36.8721V2.63672H35.6006V9ZM45.0774 11.2441C46.8821 11.2441 48.0247 10.3184 48.0247 8.87109V2.63672H46.759V3.67969H46.6829C46.3137 2.96484 45.6223 2.52539 44.7317 2.52539C43.0793 2.52539 42.0657 3.80859 42.0657 5.625V5.63672C42.0657 7.42969 43.0735 8.68945 44.7083 8.68945C45.5813 8.68945 46.2844 8.30273 46.6711 7.61133H46.7649V8.86523C46.7649 9.73242 46.1438 10.2246 45.095 10.2246C44.2336 10.2246 43.718 9.91406 43.6125 9.47461L43.6067 9.46289H42.3235L42.3118 9.47461C42.4641 10.5352 43.4602 11.2441 45.0774 11.2441ZM45.0598 7.64062C43.9758 7.64062 43.3665 6.81445 43.3665 5.63086V5.61914C43.3665 4.43555 43.9758 3.60352 45.0598 3.60352C46.1321 3.60352 46.7883 4.43555 46.7883 5.61914V5.63086C46.7883 6.82031 46.1379 7.64062 45.0598 7.64062Z"
                            fill="#B3B3B3"
                          />
                        </Svg>
                        <Text>{zakazy?.ves} kg</Text>
                      </View>
                      <View
                        style={{
                          flexDirection: 'row',
                          justifyContent: 'space-between',
                          alignItems: 'center',
                          paddingHorizontal: 15,
                          top: 80,
                        }}>
                        <View>
                          <Text>{zakazy?.namesgruz}</Text>
                        </View>
                        <View>
                          <Text>
                            {formatter
                              .format(zakazy?.summ || 0)
                              .replace('₽', '€')}
                          </Text>
                        </View>
                      </View>
                    </TouchableOpacity>
                  ) : (
                    <></>
                  )}
                </View>
              )}
              {history && (
                <View style={{alignItems: 'center', top: 20}}>
                  {zakazhistory === [] ? (
                    <></>
                  ) : (
                    <>
                      {zakazhistory.map(
                        ({
                          datetime,
                          id,
                          namesgruz,
                          street,
                          streets,
                          summ,
                          ves,
                        }) => (
                          <TouchableOpacity
                            style={{
                              width: 333,
                              height: 232,
                              borderColor: '#80884D',
                              borderWidth: 1,
                              marginBottom: 20,
                              borderRadius: 10,
                            }}
                            id={id}
                            key={id}>
                            <View
                              style={{
                                flexDirection: 'row',
                                alignItems: 'center',
                                justifyContent: 'space-between',
                                paddingHorizontal: 10,
                              }}>
                              <Text
                                style={{
                                  color: '#000000',
                                  fontWeight: 'bold',
                                  fontSize: 16,
                                }}>
                                {moment(datetime).format('DD MMMM YYYY')}
                              </Text>
                              <Svg
                                style={{left: 10}}
                                width="96"
                                height="52"
                                viewBox="0 0 96 52"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <G filter="url(#filter0_d_0_1)">
                                  <Rect
                                    x="15"
                                    y="11"
                                    width="66"
                                    height="22"
                                    rx="5"
                                    fill="white"
                                  />
                                  <Rect
                                    x="15.5"
                                    y="11.5"
                                    width="65"
                                    height="21"
                                    rx="4.5"
                                    stroke="#80884D"
                                  />
                                </G>
                                <Path
                                  d="M33.4858 25H34.6333L35.2729 23.0957H37.9682L38.603 25H39.7554L37.2114 17.9541H36.0298L33.4858 25ZM36.5766 19.1895H36.6596L37.6753 22.2168H35.5659L36.5766 19.1895ZM40.4509 25H41.5104V21.8311C41.5104 21.0645 42.0622 20.5664 42.8727 20.5664C43.0729 20.5664 43.2536 20.5908 43.444 20.6299V19.6533C43.3366 19.6289 43.1511 19.6045 42.9802 19.6045C42.2722 19.6045 41.779 19.9365 41.5886 20.498H41.5104V19.6973H40.4509V25ZM46.1415 25.1025C47.455 25.1025 48.2118 24.3945 48.4022 23.3643L48.412 23.3203H47.3964L47.3866 23.3447C47.2157 23.916 46.8056 24.2188 46.1415 24.2188C45.2675 24.2188 44.7255 23.5059 44.7255 22.334V22.3242C44.7255 21.1816 45.2577 20.4785 46.1415 20.4785C46.8446 20.4785 47.2743 20.8691 47.3915 21.3916L47.3964 21.4062L48.412 21.4014V21.377C48.2655 20.3467 47.4696 19.5947 46.1366 19.5947C44.5888 19.5947 43.6464 20.6445 43.6464 22.3242V22.334C43.6464 24.0479 44.5936 25.1025 46.1415 25.1025ZM49.254 25H50.3136V21.8896C50.3136 21.0352 50.797 20.5029 51.5733 20.5029C52.3497 20.5029 52.7159 20.9375 52.7159 21.8164V25H53.7706V21.5674C53.7706 20.3027 53.1163 19.5947 51.9298 19.5947C51.1583 19.5947 50.6505 19.9365 50.3917 20.5029H50.3136V17.6172H49.254V25ZM55.3939 18.75C55.7552 18.75 56.0579 18.4521 56.0579 18.0908C56.0579 17.7246 55.7552 17.4268 55.3939 17.4268C55.0276 17.4268 54.7298 17.7246 54.7298 18.0908C54.7298 18.4521 55.0276 18.75 55.3939 18.75ZM54.8616 25H55.9163V19.6973H54.8616V25ZM58.5112 25H59.6392L61.5532 19.6973H60.44L59.1216 23.9258H59.0386L57.7154 19.6973H56.5923L58.5112 25Z"
                                  fill="#80884D"
                                />
                              </Svg>
                            </View>
                            <View
                              style={{
                                alignItems: 'center',
                                flexDirection: 'row',
                                justifyContent: 'space-between',
                                paddingHorizontal: 18,
                              }}>
                              <Svg
                                width="52"
                                height="12"
                                viewBox="0 0 52 12"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <Path
                                  d="M0.410156 9H1.78711L2.55469 6.71484H5.78906L6.55078 9H7.93359L4.88086 0.544922H3.46289L0.410156 9ZM4.11914 2.02734H4.21875L5.4375 5.66016H2.90625L4.11914 2.02734ZM12.2307 9.10547C13.8361 9.10547 14.8674 7.82227 14.8674 5.82422V5.8125C14.8674 3.79688 13.8479 2.52539 12.2307 2.52539C11.3576 2.52539 10.6135 2.95898 10.2736 3.64453H10.1799V0.140625H8.90841V9H10.1799V7.99805H10.2736C10.6428 8.69531 11.34 9.10547 12.2307 9.10547ZM11.8733 8.02148C10.8127 8.02148 10.1565 7.18359 10.1565 5.82422V5.8125C10.1565 4.45312 10.8127 3.61523 11.8733 3.61523C12.9338 3.61523 13.5725 4.44727 13.5725 5.8125V5.82422C13.5725 7.18945 12.9338 8.02148 11.8733 8.02148ZM16.0356 9H17.307V5.26758C17.307 4.24219 17.8871 3.60352 18.8188 3.60352C19.7504 3.60352 20.1899 4.125 20.1899 5.17969V9H21.4555V4.88086C21.4555 3.36328 20.6703 2.51367 19.2465 2.51367C18.3207 2.51367 17.7113 2.92383 17.4008 3.60352H17.307V0.140625H16.0356V9ZM25.5182 9.12305C27.3815 9.12305 28.524 7.875 28.524 5.82422V5.8125C28.524 3.76172 27.3756 2.51367 25.5182 2.51367C23.6549 2.51367 22.5065 3.76758 22.5065 5.8125V5.82422C22.5065 7.875 23.649 9.12305 25.5182 9.12305ZM25.5182 8.0625C24.4225 8.0625 23.8073 7.23633 23.8073 5.82422V5.8125C23.8073 4.40039 24.4225 3.57422 25.5182 3.57422C26.608 3.57422 27.2291 4.40039 27.2291 5.8125V5.82422C27.2291 7.23047 26.608 8.0625 25.5182 8.0625ZM29.6922 9H30.9637V0.140625H29.6922V9ZM34.5694 9.12305C35.4952 9.12305 36.1397 8.72461 36.4444 8.03906H36.544V9H37.8096V2.63672H36.544V6.36914C36.544 7.39453 35.9991 8.0332 34.9795 8.0332C34.0479 8.0332 33.6612 7.51172 33.6612 6.45703V2.63672H32.3897V6.75586C32.3897 8.26172 33.1338 9.12305 34.5694 9.12305ZM39.2356 9H40.5071V5.26758C40.5071 4.24219 41.0872 3.60352 42.0188 3.60352C42.9504 3.60352 43.3899 4.125 43.3899 5.17969V9H44.6555V4.88086C44.6555 3.36328 43.8704 2.51367 42.4465 2.51367C41.5208 2.51367 40.9114 2.92383 40.6008 3.60352H40.5071V2.63672H39.2356V9ZM48.7124 11.2441C50.517 11.2441 51.6596 10.3184 51.6596 8.87109V2.63672H50.394V3.67969H50.3178C49.9487 2.96484 49.2573 2.52539 48.3667 2.52539C46.7143 2.52539 45.7006 3.80859 45.7006 5.625V5.63672C45.7006 7.42969 46.7085 8.68945 48.3432 8.68945C49.2163 8.68945 49.9194 8.30273 50.3061 7.61133H50.3999V8.86523C50.3999 9.73242 49.7788 10.2246 48.7299 10.2246C47.8686 10.2246 47.353 9.91406 47.2475 9.47461L47.2417 9.46289H45.9585L45.9467 9.47461C46.0991 10.5352 47.0952 11.2441 48.7124 11.2441ZM48.6948 7.64062C47.6108 7.64062 47.0014 6.81445 47.0014 5.63086V5.61914C47.0014 4.43555 47.6108 3.60352 48.6948 3.60352C49.767 3.60352 50.4233 4.43555 50.4233 5.61914V5.63086C50.4233 6.82031 49.7729 7.64062 48.6948 7.64062Z"
                                  fill="#B3B3B3"
                                />
                              </Svg>
                              <Svg
                                width="15"
                                height="15"
                                viewBox="0 0 15 15"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <Path
                                  d="M10.8 6.53123L13.125 4.20623M13.125 4.20623L10.8 1.88123M13.125 4.20623H1.875M4.2 8.46873L1.875 10.7937M1.875 10.7937L4.2 13.1187M1.875 10.7937H13.125"
                                  stroke="#B3B3B3"
                                  strokeLinecap="round"
                                  strokeLinejoin="round"
                                />
                              </Svg>
                              <Svg
                                width="50"
                                height="13"
                                viewBox="0 0 50 13"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <Path
                                  d="M0.0605469 10H5.33398V8.86914H1.37305V1.54492H0.0605469V10ZM7.10567 2.5C7.53927 2.5 7.90255 2.14258 7.90255 1.70898C7.90255 1.26953 7.53927 0.912109 7.10567 0.912109C6.66622 0.912109 6.3088 1.26953 6.3088 1.70898C6.3088 2.14258 6.66622 2.5 7.10567 2.5ZM6.467 10H7.73263V3.63672H6.467V10ZM11.8481 10.123C13.477 10.123 14.3559 9.18555 14.5668 8.34766L14.5785 8.29492L13.3539 8.30078L13.3305 8.34766C13.1781 8.67578 12.6918 9.08008 11.8774 9.08008C10.8285 9.08008 10.1606 8.37109 10.1371 7.15234H14.6488V6.70703C14.6488 4.79688 13.559 3.51367 11.7836 3.51367C10.0082 3.51367 8.85978 4.84375 8.85978 6.83008V6.83594C8.85978 8.85156 9.98478 10.123 11.8481 10.123ZM11.7895 4.55664C12.6508 4.55664 13.2895 5.10742 13.3891 6.24414H10.1547C10.266 5.14844 10.9223 4.55664 11.7895 4.55664ZM16.2037 10H17.4694V4.63867H18.8698V3.63672H17.4576V3.02734C17.4576 2.38281 17.733 2.04297 18.4362 2.04297C18.6354 2.04297 18.8053 2.05469 18.9225 2.07227V1.14062C18.7057 1.10547 18.4596 1.08203 18.1725 1.08203C16.8483 1.08203 16.2037 1.70312 16.2037 2.96875V3.63672H15.1549V4.63867H16.2037V10ZM22.3172 10.123C23.9461 10.123 24.825 9.18555 25.036 8.34766L25.0477 8.29492L23.8231 8.30078L23.7996 8.34766C23.6473 8.67578 23.161 9.08008 22.3465 9.08008C21.2977 9.08008 20.6297 8.37109 20.6063 7.15234H25.118V6.70703C25.118 4.79688 24.0282 3.51367 22.2528 3.51367C20.4774 3.51367 19.3289 4.84375 19.3289 6.83008V6.83594C19.3289 8.85156 20.4539 10.123 22.3172 10.123ZM22.2586 4.55664C23.12 4.55664 23.7586 5.10742 23.8582 6.24414H20.6239C20.7352 5.14844 21.3914 4.55664 22.2586 4.55664ZM26.2217 10H27.4932V6.19727C27.4932 5.27734 28.1553 4.67969 29.128 4.67969C29.3682 4.67969 29.585 4.70898 29.8135 4.75586V3.58398C29.6846 3.55469 29.462 3.52539 29.2569 3.52539C28.4073 3.52539 27.8155 3.92383 27.587 4.59766H27.4932V3.63672H26.2217V10ZM32.7395 10.123C33.6653 10.123 34.3098 9.72461 34.6145 9.03906H34.7141V10H35.9797V3.63672H34.7141V7.36914C34.7141 8.39453 34.1692 9.0332 33.1497 9.0332C32.218 9.0332 31.8313 8.51172 31.8313 7.45703V3.63672H30.5598V7.75586C30.5598 9.26172 31.304 10.123 32.7395 10.123ZM37.4057 10H38.6772V6.26758C38.6772 5.24219 39.2573 4.60352 40.1889 4.60352C41.1206 4.60352 41.56 5.125 41.56 6.17969V10H42.8256V5.88086C42.8256 4.36328 42.0405 3.51367 40.6167 3.51367C39.6909 3.51367 39.0815 3.92383 38.771 4.60352H38.6772V3.63672H37.4057V10ZM46.8825 12.2441C48.6872 12.2441 49.8298 11.3184 49.8298 9.87109V3.63672H48.5641V4.67969H48.488C48.1188 3.96484 47.4274 3.52539 46.5368 3.52539C44.8844 3.52539 43.8708 4.80859 43.8708 6.625V6.63672C43.8708 8.42969 44.8786 9.68945 46.5133 9.68945C47.3864 9.68945 48.0895 9.30273 48.4762 8.61133H48.57V9.86523C48.57 10.7324 47.9489 11.2246 46.9001 11.2246C46.0387 11.2246 45.5231 10.9141 45.4176 10.4746L45.4118 10.4629H44.1286L44.1169 10.4746C44.2692 11.5352 45.2653 12.2441 46.8825 12.2441ZM46.8649 8.64062C45.7809 8.64062 45.1715 7.81445 45.1715 6.63086V6.61914C45.1715 5.43555 45.7809 4.60352 46.8649 4.60352C47.9372 4.60352 48.5934 5.43555 48.5934 6.61914V6.63086C48.5934 7.82031 47.943 8.64062 46.8649 8.64062Z"
                                  fill="#B3B3B3"
                                />
                              </Svg>
                            </View>
                            <View
                              style={{
                                flexDirection: 'row',
                                alignItems: 'center',
                                justifyContent: 'space-between',
                              }}>
                              <View style={{width: 124, height: 34, left: 17}}>
                                <Text
                                  style={{
                                    fontSize: 12,
                                    fontWeight: 'bold',
                                    textAlign: 'left',
                                  }}>
                                  {streets}
                                </Text>
                              </View>
                              <View style={{width: 75, height: 34, right: 17}}>
                                <Text
                                  style={{
                                    fontSize: 12,
                                    fontWeight: 'bold',
                                    textAlign: 'right',
                                  }}>
                                  {street}
                                </Text>
                              </View>
                            </View>
                            <View style={{alignItems: 'center', top: 40}}>
                              <Svg
                                width="295"
                                height="1"
                                viewBox="0 0 295 1"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <Line
                                  y1="0.5"
                                  x2="295"
                                  y2="0.5"
                                  stroke="#80884D"
                                  strokeOpacity="0.6"
                                />
                              </Svg>
                            </View>
                            <View
                              style={{
                                top: 55,
                                alignItems: 'center',
                                flexDirection: 'row',
                                justifyContent: 'space-between',
                                paddingHorizontal: 15,
                              }}>
                              <Svg
                                width="49"
                                height="12"
                                viewBox="0 0 49 12"
                                fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <Path
                                  d="M3.91992 9.20508C5.88867 9.20508 7.14844 8.19727 7.14844 6.58008V6.57422C7.14844 5.32031 6.42188 4.60547 4.64648 4.22461L3.72656 4.01953C2.63086 3.78516 2.18555 3.375 2.18555 2.74805V2.74219C2.18555 1.94531 2.91797 1.48242 3.9082 1.48242C4.93359 1.47656 5.5957 1.98047 5.70703 2.67188L5.71875 2.74805H6.99023L6.98438 2.66602C6.89062 1.35352 5.71875 0.339844 3.92578 0.339844C2.13281 0.339844 0.867188 1.34766 0.861328 2.80664V2.8125C0.861328 4.06055 1.59961 4.85742 3.31641 5.2207L4.24219 5.41992C5.36133 5.66016 5.81836 6.08203 5.81836 6.73242V6.73828C5.81836 7.52344 5.05078 8.0625 3.97266 8.0625C2.8418 8.0625 2.02734 7.57031 1.95703 6.80273L1.95117 6.73828H0.662109L0.667969 6.81445C0.785156 8.23828 2.00977 9.20508 3.91992 9.20508ZM10.9943 9.12305C12.6233 9.12305 13.5022 8.18555 13.7131 7.34766L13.7248 7.29492L12.5002 7.30078L12.4768 7.34766C12.3244 7.67578 11.8381 8.08008 11.0236 8.08008C9.97481 8.08008 9.30684 7.37109 9.28341 6.15234H13.7951V5.70703C13.7951 3.79688 12.7053 2.51367 10.9299 2.51367C9.1545 2.51367 8.00606 3.84375 8.00606 5.83008V5.83594C8.00606 7.85156 9.13106 9.12305 10.9943 9.12305ZM10.9358 3.55664C11.7971 3.55664 12.4358 4.10742 12.5354 5.24414H9.30098C9.41231 4.14844 10.0686 3.55664 10.9358 3.55664ZM14.8988 9H16.1703V5.26758C16.1703 4.24219 16.7504 3.60352 17.682 3.60352C18.6137 3.60352 19.0531 4.125 19.0531 5.17969V9H20.3188V4.88086C20.3188 3.36328 19.5336 2.51367 18.1098 2.51367C17.184 2.51367 16.5746 2.92383 16.2641 3.60352H16.1703V2.63672H14.8988V9ZM24.0065 9.10547C24.8971 9.10547 25.5944 8.69531 25.9635 7.99805H26.0631V9H27.3287V0.140625H26.0631V3.64453H25.9635C25.6237 2.95898 24.8795 2.52539 24.0065 2.52539C22.3893 2.52539 21.3698 3.79688 21.3698 5.8125V5.82422C21.3698 7.82227 22.4069 9.10547 24.0065 9.10547ZM24.3698 8.02148C23.3033 8.02148 22.6647 7.18945 22.6647 5.82422V5.8125C22.6647 4.44727 23.3033 3.61523 24.3698 3.61523C25.4244 3.61523 26.0807 4.45312 26.0807 5.8125V5.82422C26.0807 7.18359 25.4303 8.02148 24.3698 8.02148ZM30.9344 9.12305C31.8602 9.12305 32.5047 8.72461 32.8094 8.03906H32.909V9H34.1746V2.63672H32.909V6.36914C32.909 7.39453 32.3641 8.0332 31.3446 8.0332C30.4129 8.0332 30.0262 7.51172 30.0262 6.45703V2.63672H28.7547V6.75586C28.7547 8.26172 29.4989 9.12305 30.9344 9.12305ZM35.6006 9H36.8721V5.26758C36.8721 4.24219 37.4522 3.60352 38.3838 3.60352C39.3155 3.60352 39.7549 4.125 39.7549 5.17969V9H41.0205V4.88086C41.0205 3.36328 40.2354 2.51367 38.8116 2.51367C37.8858 2.51367 37.2764 2.92383 36.9659 3.60352H36.8721V2.63672H35.6006V9ZM45.0774 11.2441C46.8821 11.2441 48.0247 10.3184 48.0247 8.87109V2.63672H46.759V3.67969H46.6829C46.3137 2.96484 45.6223 2.52539 44.7317 2.52539C43.0793 2.52539 42.0657 3.80859 42.0657 5.625V5.63672C42.0657 7.42969 43.0735 8.68945 44.7083 8.68945C45.5813 8.68945 46.2844 8.30273 46.6711 7.61133H46.7649V8.86523C46.7649 9.73242 46.1438 10.2246 45.095 10.2246C44.2336 10.2246 43.718 9.91406 43.6125 9.47461L43.6067 9.46289H42.3235L42.3118 9.47461C42.4641 10.5352 43.4602 11.2441 45.0774 11.2441ZM45.0598 7.64062C43.9758 7.64062 43.3665 6.81445 43.3665 5.63086V5.61914C43.3665 4.43555 43.9758 3.60352 45.0598 3.60352C46.1321 3.60352 46.7883 4.43555 46.7883 5.61914V5.63086C46.7883 6.82031 46.1379 7.64062 45.0598 7.64062Z"
                                  fill="#B3B3B3"
                                />
                              </Svg>
                              <Text>{ves} kg</Text>
                            </View>
                            <View
                              style={{
                                flexDirection: 'row',
                                justifyContent: 'space-between',
                                alignItems: 'center',
                                paddingHorizontal: 15,
                                top: 80,
                              }}>
                              <View>
                                <Text>{namesgruz}</Text>
                              </View>
                              <View>
                                <Text>
                                  {formatter
                                    .format(summ || 0)
                                    .replace('₽', '€')}
                                </Text>
                              </View>
                            </View>
                          </TouchableOpacity>
                        ),
                      )}
                    </>
                  )}
                </View>
              )}
            </View>
          </>
        )}
      </ScrollView>
    </SafeAreaView>
  );
}
const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#ffffff',
  },
});
export default CartScreen;
